(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5f03"],{"972a":function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"app-container"},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"用户名",prop:"name"}},[o("el-input",{model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),o("el-form-item",{attrs:{label:"旧密码",prop:"oldLoginPwd"}},[o("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.oldLoginPwd,callback:function(r){e.$set(e.ruleForm,"oldLoginPwd",r)},expression:"ruleForm.oldLoginPwd"}})],1),o("el-form-item",{attrs:{label:"新密码",prop:"loginPwd"}},[o("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.loginPwd,callback:function(r){e.$set(e.ruleForm,"loginPwd",r)},expression:"ruleForm.loginPwd"}})],1),o("el-form-item",{attrs:{label:"确认新密码",prop:"confirmPwd"}},[o("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.confirmPwd,callback:function(r){e.$set(e.ruleForm,"confirmPwd",r)},expression:"ruleForm.confirmPwd"}})],1),o("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("修改")]),o("el-button",{attrs:{type:"danger"},on:{click:e.resetForm}},[e._v("返回")])],1)],1)},l=[],n=(o("b0c0"),o("c24f")),i={name:"index",data:function(){var e=this,r=function(r,o,t){""===o?t(new Error("请再次输入密码")):o!==e.ruleForm.loginPwd?t(new Error("两次输入密码不一致!")):t()};return{ruleForm:{name:"",loginId:"",oldLoginPwd:"",loginPwd:"",confirmPwd:""},rules:{oldLoginPwd:[{required:!0,message:"请输入旧密码",trigger:"blur"}],loginPwd:[{required:!0,message:"请输入新密码",trigger:"blur"}],confirmPwd:[{required:!0,message:"请输入确认新密码",trigger:"blur"},{validator:r,trigger:"blur"}]}}},created:function(){this.fetchUserData()},methods:{fetchUserData:function(){var e=this;Object(n["b"])().then((function(r){e.ruleForm.name=r.data.name,e.ruleForm.loginId=r.data.loginId}))},submitForm:function(){var e=this;this.ruleForm.name&&this.ruleForm.oldLoginPwd&&this.ruleForm.confirmPwd?Object(n["d"])(this.ruleForm).then((function(r){if("string"===typeof r){var o=JSON.parse(r);e.$message.error(o.msg)}else e.$message.success("修改成功"),console.log(e.$route.fullPath),e.$store.dispatch("user/logout").then((function(){e.$router.push("/login?redirect=".concat(e.$route.fullPath))}))})):this.$message.error("请填写完整")},resetForm:function(){this.$router.push("/")}}},s=i,a=o("2877"),u=Object(a["a"])(s,t,l,!1,null,"3e1cf099",null);r["default"]=u.exports}}]);